var array=["01-1","01-2","02-1","02-2","03-1","03-2","04-1","04-2","05-1","05-2","06-1","06-2","07-1","07-2","08-1","08-2","09-1","09-2","10-1","10-2","11-1","11-2","12-1","12-2","13-1","13-2","14-1","14-2"];function shuffleArray(e){for(var r=e.length-1;r>0;r--){var a=Math.floor(Math.random()*(r+1)),s=e[r];e[r]=e[a],e[a]=s}return e}function checkForm(){return""==$("#pseudo").val()?($("#pseudo").addClass("error"),!1):void $("#pseudo").removeClass("error")}function startGame(){if(array=shuffleArray(array),$.each($(".cardArea div"),function(e){$(this).addClass("icons"+array[e])}),$(".overlay").hide(),$("#progress").progressBarTimer({autoStart:!0,smooth:!0,timeLimit:120,baseStyle:"bg-success",completeStyle:"bg-danger",onFinish:function(){$(".cardArea").off("click"),$(".overlay.lost").show()}}),window.matchMedia("(max-width: 768px)").matches)var e=75;else e=100;$(".cardArea").on("click",function(){$(this).children("div").animate({height:e},500);var r=$(this).children("div").attr("class"),a=r.substring(5,7),s=$("#choice1").val(),t="00";if("00"===s)$(this).addClass("checked"),s=a,$("#choice1").val(a);else if($(this).hasClass("checked"))$("#tip-box").text("Choisis une seconde carte");else if("00"===t){if(s===(t=a)?($("#tip-box").html("<p class='textTransition'>Bien joué !</p>"),$('[class*="'+r.substring(7,0)+'"]').parent().addClass("matched")):setTimeout(function(){$("#tip-box").html("<p>Essaye encore !</p>"),$(".cardArea:not(.matched)").children("div").animate({height:0},500)},800),$(".cardArea").removeClass("checked"),$("#choice1").val("00"),28==$(".matched").length){$("#progress").progressBarTimer().stop();var o=$("#progress").progressBarTimer().getElapsedTime(),i=parseInt(o/1e3%60),n=parseInt(o/6e4%60),c="00:"+(n=n<10?"0"+n:n)+":"+(i=i<10?"0"+i:i),l=n+" min "+i+" s";$.ajax({type:"POST",url:"post.php",data:"gametime="+c,success:function(){$(".overlay.win").html("<h2>Gagné !&#128513;</h2><p>Ton temps est de <strong>"+l+"</strong><br />Ton score a été ajouté à la liste des participations.</p><p><button onclick='window.location.reload();'>Rejouer</button><p>").show()},error:function(e){$(".overlay.win").html("<h2>Erreur</h2><p>Une erreur est survenue. <a href='javascript:void(0);' onClick='javascript:window.location.reload();' style='text-decoration:underline;'>Veuillez réessayer</a>.</p>").show()}})}}})}
